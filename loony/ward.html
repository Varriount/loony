<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>ward</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">ward</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Ward"
    title="Ward[T; F] = ref object
  queue*: LoonyQueue[T]
  values: Atomic[uint16]">Ward</a></li>
  <li><a class="reference" href="#WardFlag"
    title="WardFlag {.size: 2.} = enum
  PopPausable = &quot;popping off the queue with this ward can be paused&quot;,
  PushPausable = &quot;pushing onto the queue with this ward can be paused&quot;,
  Clearable = &quot;this ward is capable of clearing the queue&quot;,
  Pausable = &quot;accessing the queue with this ward can be paused&quot;">WardFlag</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">clear
      <li><a class="reference" href="#clear%2CWard%5BT%2CF%5D"
    title="clear[T, F](ward: Ward[T, F])">clear[T, F](ward: Ward[T, F])</a></li>

  </ul>
  <ul class="simple nested-toc-section">count
      <li><a class="reference" href="#count%2CWard%5BT%2CF%5D"
    title="count[T, F](ward: Ward[T, F])">count[T, F](ward: Ward[T, F])</a></li>

  </ul>
  <ul class="simple nested-toc-section">init
      <li><a class="reference" href="#init%2CWard"
    title="init(ward: Ward)">init(ward: Ward)</a></li>

  </ul>
  <ul class="simple nested-toc-section">isPaused
      <li><a class="reference" href="#isPaused%2CWard%5BT%2CF%5D"
    title="isPaused[T, F](ward: Ward[T, F]): bool">isPaused[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">isPopPaused
      <li><a class="reference" href="#isPopPaused%2CWard%5BT%2CF%5D"
    title="isPopPaused[T, F](ward: Ward[T, F]): bool">isPopPaused[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">isPushPaused
      <li><a class="reference" href="#isPushPaused%2CWard%5BT%2CF%5D"
    title="isPushPaused[T, F](ward: Ward[T, F]): bool">isPushPaused[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">newWard
      <li><a class="reference" href="#newWard%2CWard%5BT%2CF%5D%2Cstaticset%5BWardFlag%5D"
    title="newWard[T, F](wd: Ward[T, F]; flags: static set[WardFlag]): auto">newWard[T, F](wd: Ward[T, F]; flags: static set[WardFlag]): auto</a></li>
  <li><a class="reference" href="#newWard%2CLoonyQueue%5BT%5D%2Cstaticset%5BWardFlag%5D"
    title="newWard[T](lq: LoonyQueue[T]; flags: static set[WardFlag]): auto">newWard[T](lq: LoonyQueue[T]; flags: static set[WardFlag]): auto</a></li>

  </ul>
  <ul class="simple nested-toc-section">pause
      <li><a class="reference" href="#pause%2CWard%5BT%2CF%5D"
    title="pause[T, F](ward: Ward[T, F]): bool">pause[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">pausePop
      <li><a class="reference" href="#pausePop%2CWard%5BT%2CF%5D"
    title="pausePop[T, F](ward: Ward[T, F]): bool">pausePop[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">pausePush
      <li><a class="reference" href="#pausePush%2CWard%5BT%2CF%5D"
    title="pausePush[T, F](ward: Ward[T, F]): bool">pausePush[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">pop
      <li><a class="reference" href="#pop%2CWard%5BT%2CF%5D"
    title="pop[T, F](ward: Ward[T, F]): T">pop[T, F](ward: Ward[T, F]): T</a></li>

  </ul>
  <ul class="simple nested-toc-section">push
      <li><a class="reference" href="#push%2CWard%5BT%2CF%5D%2CT"
    title="push[T, F](ward: Ward[T, F]; el: T): bool">push[T, F](ward: Ward[T, F]; el: T): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">resume
      <li><a class="reference" href="#resume%2CWard%5BT%2CF%5D"
    title="resume[T, F](ward: Ward[T, F]): bool">resume[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">resumePop
      <li><a class="reference" href="#resumePop%2CWard%5BT%2CF%5D"
    title="resumePop[T, F](ward: Ward[T, F]): bool">resumePop[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">resumePush
      <li><a class="reference" href="#resumePush%2CWard%5BT%2CF%5D"
    title="resumePush[T, F](ward: Ward[T, F]): bool">resumePush[T, F](ward: Ward[T, F]): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">unsafePop
      <li><a class="reference" href="#unsafePop%2CWard%5BT%2CF%5D"
    title="unsafePop[T, F](ward: Ward[T, F]): T">unsafePop[T, F](ward: Ward[T, F]): T</a></li>

  </ul>
  <ul class="simple nested-toc-section">unsafePush
      <li><a class="reference" href="#unsafePush%2CWard%5BT%2CF%5D%2CT"
    title="unsafePush[T, F](ward: Ward[T, F]; el: T): bool">unsafePush[T, F](ward: Ward[T, F]; el: T): bool</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#16" id="66">Converters</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">toFlags
      <li><a class="reference" href="#toFlags.c%2CWardFlags"
    title="toFlags(value: WardFlags): set[WardFlag]">toFlags(value: WardFlags): set[WardFlag]</a></li>

  </ul>
  <ul class="simple nested-toc-section">toWardFlags
      <li><a class="reference" href="#toWardFlags.c%2Cset%5BWardFlag%5D"
    title="toWardFlags(flags: set[WardFlag]): WardFlags">toWardFlags(flags: set[WardFlag]): WardFlags</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">flags
      <li><a class="reference" href="#flags.t%2CWard%5BT%2CF%5D"
    title="flags[T, F](ward: Ward[T, F]): set[WardFlag]">flags[T, F](ward: Ward[T, F]): set[WardFlag]</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>Ward introduces a state management container for the LoonyQueue.</p>
<p>Principally, all interactions that you want to do with a LoonyQueue you can do through the ward ontop of any added behaviours you pass in as flags. This design separates added functionality from hampering the speed of loony operations when you do not use them. For instance, all wards that access a loony queue with a Pausable flag will prefix the operation with an atomic check to see if the ward is paused (this is not blocking, you simply receive a nil in the case of pop operations and a false bool on push ops).</p>
<p>However, if you were to set only a PushPausable flag, then only the push operations will introduce the extra cost.</p>
<p>Wards are ref objects and can therefore share the same many-to-one relationship that you expect from LoonyQueue. You can have separate wards pointing to the same queue but with separate flags and flag switches. Or you can have separate wards pointing to the same, with separate flags but THE SAME flag switches.</p>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="spec.html">spec</a>, <a class="reference external" href="node.html">node</a>, <a class="reference external" href="loony.html">loony</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="Ward">
<dt><pre><a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">;</span> <span class="Identifier">F</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">queue</span><span class="Operator">*</span><span class="Other">:</span> <a href="loony.html#LoonyQueue"><span class="Identifier">LoonyQueue</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span>
  <span class="Identifier">values</span><span class="Other">:</span> <span class="Identifier">Atomic</span><span class="Other">[</span><span class="Identifier">uint16</span><span class="Other">]</span>
</pre></dt>
<dd>



</dd>
</div>
<div id="WardFlag">
<dt><pre><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a> {.<span class="Identifier">size</span><span class="Other">:</span> <span class="DecNumber">2</span>.} <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">PopPausable</span> <span class="Other">=</span> <span class="StringLit">&quot;popping off the queue with this ward can be paused&quot;</span><span class="Other">,</span>
  <span class="Identifier">PushPausable</span> <span class="Other">=</span> <span class="StringLit">&quot;pushing onto the queue with this ward can be paused&quot;</span><span class="Other">,</span>
  <span class="Identifier">Clearable</span> <span class="Other">=</span> <span class="StringLit">&quot;this ward is capable of clearing the queue&quot;</span><span class="Other">,</span>
  <span class="Identifier">Pausable</span> <span class="Other">=</span> <span class="StringLit">&quot;accessing the queue with this ward can be paused&quot;</span></pre></dt>
<dd>



</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="clear,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#clear%2CWard%5BT%2CF%5D"><span class="Identifier">clear</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

UNSTABLE/UNTESTED Clears the loonyQueue. This does not block any threads which are pushing/popping off the queue. It will be performed safely, however if you want a deterministic clear of the queue, it is recommended to have all threads pushing/popping through a ward with a Pause flag to call before you clear the queue.

</dd>
</div>
<div id="count,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#count%2CWard%5BT%2CF%5D"><span class="Identifier">count</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

Does as labelled on the bottle. The nature of loony queue means that the returned value is not 100% accurate when there is high contention/activity on the queue.

</dd>
</div>
<div id="init,Ward">
<dt><pre><span class="Keyword">proc</span> <a href="#init%2CWard"><span class="Identifier">init</span></a><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">)</span></pre></dt>
<dd>

Initiate a ward object (for the moment this just 0's the atomic values)

</dd>
</div>
<div id="isPaused,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#isPaused%2CWard%5BT%2CF%5D"><span class="Identifier">isPaused</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Returns true if BOTH push and pop are paused. Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="isPopPaused,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#isPopPaused%2CWard%5BT%2CF%5D"><span class="Identifier">isPopPaused</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Returns true if pop is paused. Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="isPushPaused,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#isPushPaused%2CWard%5BT%2CF%5D"><span class="Identifier">isPushPaused</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Returns true if push is paused. Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="newWard,Ward[T,F],staticset[WardFlag]">
<dt><pre><span class="Keyword">proc</span> <a href="#newWard%2CWard%5BT%2CF%5D%2Cstaticset%5BWardFlag%5D"><span class="Identifier">newWard</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">wd</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">set</span><span class="Other">[</span><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">auto</span></pre></dt>
<dd>

Creates a ward with a different set of flags that are settable/observable that shares state with the given ward for the same queue. This can be used to create a ward for instance that will respond to poppauses only. If the other ward is paused for both pop and push, this ward will only respect the poppause.

</dd>
</div>
<div id="newWard,LoonyQueue[T],staticset[WardFlag]">
<dt><pre><span class="Keyword">proc</span> <a href="#newWard%2CLoonyQueue%5BT%5D%2Cstaticset%5BWardFlag%5D"><span class="Identifier">newWard</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">lq</span><span class="Other">:</span> <a href="loony.html#LoonyQueue"><span class="Identifier">LoonyQueue</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">set</span><span class="Other">[</span><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">auto</span></pre></dt>
<dd>

Create a new ward for the queue with the flags given

</dd>
</div>
<div id="pause,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#pause%2CWard%5BT%2CF%5D"><span class="Identifier">pause</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Pause both push and pop operations for the ward. Will return a false if either pop or push were already paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="pausePop,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#pausePop%2CWard%5BT%2CF%5D"><span class="Identifier">pausePop</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Pause pop operations for the ward Will return a false if pop was already paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="pausePush,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#pausePush%2CWard%5BT%2CF%5D"><span class="Identifier">pausePush</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Pause push operations for the ward Will return a false if push was already paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="pop,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#pop%2CWard%5BT%2CF%5D"><span class="Identifier">pop</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
<dd>

Pop an element off the queue in the ward. If the ward is paused or there is some restriction on access, a nil pointer is returned

</dd>
</div>
<div id="push,Ward[T,F],T">
<dt><pre><span class="Keyword">proc</span> <a href="#push%2CWard%5BT%2CF%5D%2CT"><span class="Identifier">push</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">el</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Push the element through the ward onto the queue. If the ward is paused or there is some restriction on access, a false is returned (which means the el is still a valid reference/pointer).

</dd>
</div>
<div id="resume,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#resume%2CWard%5BT%2CF%5D"><span class="Identifier">resume</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Resume all operations for the ward Will return a false if push/pop were not paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="resumePop,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#resumePop%2CWard%5BT%2CF%5D"><span class="Identifier">resumePop</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Resume pop operations for the ward Will return a false if pop was not paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="resumePush,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#resumePush%2CWard%5BT%2CF%5D"><span class="Identifier">resumePush</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

Resume push operations for the ward Will return a false if push was not paused (does not change outcome). Raises an error if the ward flags do not support this operation.

</dd>
</div>
<div id="unsafePop,Ward[T,F]">
<dt><pre><span class="Keyword">proc</span> <a href="#unsafePop%2CWard%5BT%2CF%5D"><span class="Identifier">unsafePop</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
<dd>

unsafePop an element off the queue in the ward. If the ward is paused or there is some restriction on access, a nil pointer is returned

</dd>
</div>
<div id="unsafePush,Ward[T,F],T">
<dt><pre><span class="Keyword">proc</span> <a href="#unsafePush%2CWard%5BT%2CF%5D%2CT"><span class="Identifier">unsafePush</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">el</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>

unsafePush the element through the ward onto the queue. If the ward is paused or there is some restriction on access, a false is returned (which means the el is still a valid reference/pointer)

</dd>
</div>

</dl></div>
<div class="section" id="16">
<h1><a class="toc-backref" href="#16">Converters</a></h1>
<dl class="item">
<div id="toFlags.c,WardFlags">
<dt><pre><span class="Keyword">converter</span> <a href="#toFlags.c%2CWardFlags"><span class="Identifier">toFlags</span></a><span class="Other">(</span><span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">WardFlags</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Internal use

</dd>
</div>
<div id="toWardFlags.c,set[WardFlag]">
<dt><pre><span class="Keyword">converter</span> <a href="#toWardFlags.c%2Cset%5BWardFlag%5D"><span class="Identifier">toWardFlags</span></a><span class="Other">(</span><span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">WardFlags</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Internal use

</dd>
</div>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<div id="flags.t,Ward[T,F]">
<dt><pre><span class="Keyword">template</span> <a href="#flags.t%2CWard%5BT%2CF%5D"><span class="Identifier">flags</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ward</span><span class="Other">:</span> <a href="ward.html#Ward"><span class="Identifier">Ward</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">,</span> <span class="Identifier">F</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="ward.html#WardFlag"><span class="Identifier">WardFlag</span></a><span class="Other">]</span></pre></dt>
<dd>

Get the flags for the given ward

</dd>
</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-10-03 17:19:48 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
